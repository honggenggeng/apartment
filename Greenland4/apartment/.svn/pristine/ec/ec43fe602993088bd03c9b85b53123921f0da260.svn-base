webpackJsonp([6],{259:function(n,t,e){"use strict";function i(n){l||e(325)}Object.defineProperty(t,"__esModule",{value:!0});var a=e(279),s=e.n(a);for(var o in a)"default"!==o&&function(n){e.d(t,n,function(){return a[n]})}(o);var d=e(327),r=e.n(d),l=!1,u=e(1),p=i,c=u(s.a,r.a,!1,p,"data-v-77816660",null);c.options.__file="src\\views\\aden\\digiops\\planer\\route.vue",t.default=c.exports},268:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shiftId=t.shiftUpdate=t.shiftList=t.shiftCode=t.shiftAdd=t.auditId=t.auditUpdate=t.auditList=t.auditCode=t.auditAdd=t.lineId=t.lineUpdate=t.lineList=t.lineCode=t.lineAdd=t.pointQrcode=t.pointSpinner=t.pointId=t.pointUpdate=t.pointList=t.pointCode=t.pointAdd=t.sopSpinner=t.sopId=t.sopUpdate=t.sopList=t.sopCode=t.sopAdd=t.userSpinner=t.userid=t.userupdate=t.userIsExist=t.userlist=t.userpassword=t.useradd=t.siteid=t.siteSpinner=t.siteupdate=t.siteIsExist=t.sitelist=t.siteallList=t.siteadd=t.roleupdate=t.roleadd=t.roleId=t.rolelist=t.rolemenuList=t.menu=t.upload=t.login=t.insertRole=void 0;var i=e(11),a=function(n){return n&&n.__esModule?n:{default:n}}(i);t.insertRole=function(n){return a.default.ajax.post("/digiops/role/insertRole",n)},t.login=function(n){return a.default.ajax.post("/digiops/digiops/login",n)},t.upload=function(n){return a.default.ajax.post("/digiops/upload/picture",n)},t.menu=function(){return a.default.ajax.get("/digiops/role/queryMenuList")},t.rolemenuList=function(){return a.default.ajax.get("/digiops/role/menuList")},t.rolelist=function(){return a.default.ajax.get("/digiops/role/list")},t.roleId=function(n){return a.default.ajax.get("/digiops/role/"+n)},t.roleadd=function(n){return a.default.ajax.post("/digiops/role/add",n)},t.roleupdate=function(n){return a.default.ajax.post("/digiops/role/update",n)},t.siteadd=function(n){return a.default.ajax.post("/digiops/site/add",n)},t.siteallList=function(n){return a.default.ajax.post("/digiops/site/allList",n)},t.sitelist=function(n){return a.default.ajax.post("/digiops/site/list",n)},t.siteIsExist=function(n){return a.default.ajax.post("/digiops/site/isExist",n)},t.siteupdate=function(n){return a.default.ajax.post("/digiops/site/update",n)},t.siteSpinner=function(n){return a.default.ajax.post("/digiops/site/siteSpinner",n)},t.siteid=function(n){return a.default.ajax.get("/digiops/site/"+n)},t.useradd=function(n){return a.default.ajax.post("/digiops/user/add",n)},t.userpassword=function(n){return a.default.ajax.get("/digiops/user/password",n)},t.userlist=function(n){return a.default.ajax.post("/digiops/user/list",n)},t.userIsExist=function(n){return a.default.ajax.post("/digiops/user/isExist",n)},t.userupdate=function(n){return a.default.ajax.post("/digiops/user/update",n)},t.userid=function(n){return a.default.ajax.get("/digiops/user/"+n)},t.userSpinner=function(){return a.default.ajax.get("/digiops/user/userSpinner")},t.sopAdd=function(n){return a.default.ajax.post("/digiops/sop/add",n)},t.sopCode=function(n){return a.default.ajax.get("/digiops/sop/generatedCode/"+n)},t.sopList=function(n){return a.default.ajax.post("/digiops/sop/list",n)},t.sopUpdate=function(n){return a.default.ajax.post("/digiops/sop/update",n)},t.sopId=function(n){return a.default.ajax.get("/digiops/sop/"+n)},t.sopSpinner=function(n){return a.default.ajax.get("/digiops/sop/sopSpinner/"+n)},t.pointAdd=function(n){return a.default.ajax.post("/digiops/point/add",n)},t.pointCode=function(n){return a.default.ajax.get("/digiops/point/generatedCode/"+n)},t.pointList=function(n){return a.default.ajax.post("/digiops/point/list",n)},t.pointUpdate=function(n){return a.default.ajax.post("/digiops/point/update",n)},t.pointId=function(n){return a.default.ajax.get("/digiops/point/"+n)},t.pointSpinner=function(n){return a.default.ajax.get("/digiops/point/pointSpinner/"+n)},t.pointQrcode=function(n){return a.default.ajax.post("/digiops/upload/qrcode",n)},t.lineAdd=function(n){return a.default.ajax.post("/digiops/line/add",n)},t.lineCode=function(n){return a.default.ajax.get("/digiops/line/generatedCode/"+n)},t.lineList=function(n){return a.default.ajax.post("/digiops/line/list",n)},t.lineUpdate=function(n){return a.default.ajax.post("/digiops/line/update",n)},t.lineId=function(n){return a.default.ajax.get("/digiops/line/"+n)},t.auditAdd=function(n){return a.default.ajax.post("/digiops/audit/add",n)},t.auditCode=function(n){return a.default.ajax.get("/digiops/audit/generatedCode/"+n)},t.auditList=function(n){return a.default.ajax.post("/digiops/audit/list",n)},t.auditUpdate=function(n){return a.default.ajax.post("/digiops/audit/update",n)},t.auditId=function(n){return a.default.ajax.get("/digiops/audit/"+n)},t.shiftAdd=function(n){return a.default.ajax.post("/digiops/shift/add",n)},t.shiftCode=function(n){return a.default.ajax.get("/digiops/shift/generatedCode/"+n)},t.shiftList=function(n){return a.default.ajax.post("/digiops/shift/list",n)},t.shiftUpdate=function(n){return a.default.ajax.post("/digiops/shift/update",n)},t.shiftId=function(n){return a.default.ajax.get("/digiops/shift/"+n)}},279:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(268);t.default={data:function(){var n=this;return{searchIsEnable:2,startDate:"",endDate:"",total:0,siteList:[],checkPointList:[],searchValue:"",searchType:"lineNum",searchTypeList:[{title:"路线编号",key:"lineNum"},{title:"路线名称",key:"lineName"},{title:"站点名称",key:"siteName"},{title:"状态",key:"isEnable"}],showcom:!0,operationstatus:"add",formValidate:{lineNum:"",lineName:"",siteUuid:0,guideline:"",isEnable:0,linePointList:""},ruleValidate:{lineNum:[{required:!0,trigger:"blur",message:"路线编号为必填项"}],lineName:[{required:!0,message:"路线名称为必填项",trigger:"blur"}],siteUuid:[{required:!0,message:"站点名称为必填项",trigger:"change"}]},columns:[{type:"selection",width:60,align:"center"},{title:"路线编号",key:"lineNum"},{title:"路线名称",key:"lineName"},{title:"站点名称",key:"siteName"},{title:"创建时间",key:"createTime",sortable:!0},{title:"状态",key:"isEnable"}],data:[],columns1:[{title:"序号",width:80,key:"index",type:"index",align:"center"},{title:"检查点",key:"uuid",render:function(t,e){return t("Select",{props:{value:n.data1[e.index].uuid},on:{"on-change":function(t){n.data1[e.index].uuid=t}}},n.checkPointList.map(function(n){return t("Option",{props:{value:n.uuid}},n.pointName)}))}},{title:"操作",key:"sopDetailAction",align:"center",render:function(t,e){return t("div",[t("Button",{props:{type:"error",size:"default"},style:{marginRight:"5px"},on:{click:function(){n.data1.splice(e.index,1)}}},"删除"),t("Button",{props:{type:"primary",size:"default"},style:{marginRight:"5px"},on:{click:function(){if(e.index>0){var t=n.data1[e.index];n.data1.splice(e.index,1),n.data1.splice(e.index-1,0,t)}}}},"上移"),t("Button",{props:{type:"primary",size:"default"},on:{click:function(){if(e.index<n.data1.length){var t=n.data1[e.index];n.data1.splice(e.index,1),n.data1.splice(e.index+1,0,t)}}}},"下移")])}}],data1:[]}},created:function(){var n=this;this.getformatdata({pageSize:10,startPage:1}),(0,i.siteSpinner)().then(function(t){n.siteList=t.data.data})},computed:{power:function(){return!1}},methods:{search:function(){var n={pageSize:10,startPage:1,startDate:this.startDate,endDate:this.endDate};"isEnable"==this.searchType?n.isEnable=this.searchIsEnable:n[this.searchType]=this.searchValue,""!=this.endDate&&""!=this.startDate?this.endDate>=this.startDate?this.getformatdata(n):(this.$Message.info("结束时间应大于开始时间"),this.endDate=""):this.getformatdata(n)},handleSelectAll:function(n){this.$refs.selection.selectAll(n)},handleSubmit:function(n){var t=this;this.$refs[n].validate(function(n){n?(t.$Message.success("Success!"),console.log(t.data1),console.log(t.formValidate.linePointList),t.data1.forEach(function(n,e){t.formValidate.linePointList+=n.uuid+"@"+e+","}),t.formValidate.linePointList=t.formValidate.linePointList.substr(0,t.formValidate.linePointList.length-1),console.log(t.formValidate),"add"==t.operationstatus?((0,i.lineAdd)(t.formValidate).then(function(n){t.getformatdata({pageSize:10,startPage:1})}),t.formValidate={lineNum:"",lineName:"",siteUuid:0,guideline:"",isEnable:0,linePointList:""},t.data1=[]):((0,i.lineUpdate)(t.formValidate).then(function(n){t.getformatdata({pageSize:10,startPage:1})}),t.formValidate={lineNum:"",lineName:"",siteUuid:0,guideline:"",isEnable:0,linePointList:""},t.data1=[]),t.formValidate={lineNum:"",lineName:"",siteUuid:0,guideline:"",isEnable:0,linePointList:""},t.showcom=!0,console.log(t.formValidate)):t.$Message.error("Fail!")})},handleReset:function(n){this.showcom=!0,this.$refs[n].resetFields()},addRoute:function(){this.showcom=!1,this.operationstatus="add"},removeRoute:function(){},changePage:function(){},add:function(){this.data1.push({uuid:""})},editRoute:function(n,t){var e=this;(0,i.lineId)(n.uuid).then(function(n){var t=n.data.data;e.formValidate={lineNum:t.lineNum,lineName:t.lineName,siteUuid:t.siteUuid,guideline:t.guideline,isEnable:t.isEnable,uuid:t.uuid,linePointList:""},e.data1=t.points.reverse()}),this.showcom=!1,this.operationstatus="edit"},siteChange:function(n){var t=this;console.log(n),"add"==this.operationstatus&&(0,i.lineCode)(n).then(function(n){console.log(n),t.formValidate.lineNum=n.data.data}),(0,i.pointSpinner)(n).then(function(n){t.checkPointList=n.data.data})},getformatdata:function(n){var t=this;(0,i.lineList)(n).then(function(n){console.log(n),t.data=n.data.data.records,t.total=n.data.data.total,t.data.forEach(function(n){n.createTime=t.$util.formatTime(n.createTime),n.isEnable=0==n.isEnable?"启用":"禁用"})})}}}},325:function(n,t,e){var i=e(326);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e(17)("2211c70d",i,!1)},326:function(n,t,e){t=n.exports=e(16)(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},327:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"operation",attrs:{id:"route"}},[n.showcom?e("div",{staticClass:"wrap"},[e("Row",{staticStyle:{"padding-bottom":"10px"},attrs:{type:"flex",justify:"space-between"}},[e("Col",[e("Button",{staticStyle:{"margin-right":"20px"},attrs:{type:"ghost",disabled:n.power},on:{click:n.addRoute}},[n._v("新建")]),n._v(" "),e("Button",{staticStyle:{"margin-right":"20px"},attrs:{type:"ghost",disabled:n.power},on:{click:n.removeRoute}},[n._v("\n        删除\n      ")]),n._v(" "),e("Button",{attrs:{type:"ghost",disabled:n.power}},[n._v("\n        复制\n      ")])],1),n._v(" "),e("Col",[e("span",[n._v("开始时间：")]),n._v(" "),e("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:n.startDate,callback:function(t){n.startDate=t},expression:"startDate"}}),n._v(" "),e("span",[n._v("结束时间：")]),n._v(" "),e("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:n.endDate,callback:function(t){n.endDate=t},expression:"endDate"}}),n._v(" "),e("Select",{staticStyle:{width:"100px"},model:{value:n.searchType,callback:function(t){n.searchType=t},expression:"searchType"}},n._l(n.searchTypeList,function(t){return e("Option",{key:t.key,attrs:{value:t.key}},[n._v(n._s(t.title))])})),n._v(" "),"isEnable"!=n.searchType?e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入搜索的内容"},model:{value:n.searchValue,callback:function(t){n.searchValue=t},expression:"searchValue"}}):n._e(),n._v(" "),"isEnable"==n.searchType?e("Select",{staticStyle:{width:"200px"},model:{value:n.searchIsEnable,callback:function(t){n.searchIsEnable=t},expression:"searchIsEnable"}},[e("Option",{attrs:{value:0}},[n._v("启用")]),n._v(" "),e("Option",{attrs:{value:1}},[n._v("禁用")])],1):n._e(),n._v(" "),e("Button",{attrs:{icon:"ivu-icon ivu-icon-search"},on:{click:n.search}})],1)],1),n._v(" "),e("Table",{attrs:{border:"",data:n.data,columns:n.columns},on:{"on-row-dblclick":n.editRoute}}),n._v(" "),e("div",{staticStyle:{float:"right",margin:"10px"}},[e("Page",{attrs:{total:n.total,"page-size":10},on:{"on-change":n.changePage}})],1)],1):e("Form",{ref:"formValidate",staticClass:"wrap",attrs:{model:n.formValidate,rules:n.ruleValidate,"label-position":"right","label-width":100}},[e("Row",[e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"站点名称",prop:"siteUuid"}},[e("Select",{on:{"on-change":n.siteChange},model:{value:n.formValidate.siteUuid,callback:function(t){n.$set(n.formValidate,"siteUuid",t)},expression:"formValidate.siteUuid"}},n._l(n.siteList,function(t,i){return e("Option",{key:i,attrs:{value:t.uuid}},[n._v(n._s(t.siteName))])}))],1)],1),n._v(" "),e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"路线编号",prop:"lineNum"}},[e("Input",{attrs:{disabled:""},model:{value:n.formValidate.lineNum,callback:function(t){n.$set(n.formValidate,"lineNum",t)},expression:"formValidate.lineNum"}})],1)],1)],1),n._v(" "),e("Row",[e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"路线名称",prop:"lineName"}},[e("Input",{model:{value:n.formValidate.lineName,callback:function(t){n.$set(n.formValidate,"lineName",t)},expression:"formValidate.lineName"}})],1)],1),n._v(" "),e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"状态"}},[e("RadioGroup",{model:{value:n.formValidate.isEnable,callback:function(t){n.$set(n.formValidate,"isEnable",t)},expression:"formValidate.isEnable"}},[e("Radio",{attrs:{label:0}},[n._v("启用")]),n._v(" "),e("Radio",{attrs:{label:1}},[n._v("禁用")])],1)],1)],1)],1),n._v(" "),e("Row",[e("Col",{attrs:{xs:24,lg:24}},[e("FormItem",{attrs:{label:"注意事项",prop:"guideline"}},[e("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5}},model:{value:n.formValidate.guideline,callback:function(t){n.$set(n.formValidate,"guideline",t)},expression:"formValidate.guideline"}})],1)],1)],1),n._v(" "),e("Row",{staticStyle:{"margin-bottom":"20px"}},[e("Button",{attrs:{type:"ghost"},on:{click:n.add}},[n._v("添加新项")]),n._v(" "),e("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"}},[n._v("导入列表")])],1),n._v(" "),e("Table",{attrs:{columns:n.columns1,data:n.data1,border:""}}),n._v(" "),e("Col",{staticStyle:{"margin-top":"20px"},attrs:{xs:24,lg:12}},[e("FormItem",[e("Button",{staticClass:"save ",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",disabled:n.power},on:{click:function(t){n.handleSubmit("formValidate")}}},[n._v("保存")]),n._v(" "),e("Button",{staticClass:"button ",staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(t){n.handleReset("formValidate")}}},[n._v("取消")])],1)],1)],1)],1)},a=[];i._withStripped=!0;var s={render:i,staticRenderFns:a};t.default=s}});