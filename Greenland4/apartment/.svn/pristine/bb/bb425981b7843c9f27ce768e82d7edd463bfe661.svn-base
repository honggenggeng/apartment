webpackJsonp([10],{265:function(t,e,n){"use strict";function a(t){u||n(343)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(285),s=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var d=n(345),r=n.n(d),u=!1,l=n(1),p=a,f=l(s.a,r.a,!1,p,"data-v-212719d6",null);f.options.__file="src\\views\\aden\\digiops\\manage\\siteManage.vue",e.default=f.exports},268:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shiftId=e.shiftUpdate=e.shiftList=e.shiftCode=e.shiftAdd=e.auditId=e.auditUpdate=e.auditList=e.auditCode=e.auditAdd=e.lineId=e.lineUpdate=e.lineList=e.lineCode=e.lineAdd=e.pointQrcode=e.pointSpinner=e.pointId=e.pointUpdate=e.pointList=e.pointCode=e.pointAdd=e.sopSpinner=e.sopId=e.sopUpdate=e.sopList=e.sopCode=e.sopAdd=e.userSpinner=e.userid=e.userupdate=e.userIsExist=e.userlist=e.userpassword=e.useradd=e.siteid=e.siteSpinner=e.siteupdate=e.siteIsExist=e.sitelist=e.siteallList=e.siteadd=e.roleupdate=e.roleadd=e.roleId=e.rolelist=e.rolemenuList=e.menu=e.upload=e.login=e.insertRole=void 0;var a=n(11),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.insertRole=function(t){return i.default.ajax.post("/digiops/role/insertRole",t)},e.login=function(t){return i.default.ajax.post("/digiops/digiops/login",t)},e.upload=function(t){return i.default.ajax.post("/digiops/upload/picture",t)},e.menu=function(){return i.default.ajax.get("/digiops/role/queryMenuList")},e.rolemenuList=function(){return i.default.ajax.get("/digiops/role/menuList")},e.rolelist=function(){return i.default.ajax.get("/digiops/role/list")},e.roleId=function(t){return i.default.ajax.get("/digiops/role/"+t)},e.roleadd=function(t){return i.default.ajax.post("/digiops/role/add",t)},e.roleupdate=function(t){return i.default.ajax.post("/digiops/role/update",t)},e.siteadd=function(t){return i.default.ajax.post("/digiops/site/add",t)},e.siteallList=function(t){return i.default.ajax.post("/digiops/site/allList",t)},e.sitelist=function(t){return i.default.ajax.post("/digiops/site/list",t)},e.siteIsExist=function(t){return i.default.ajax.post("/digiops/site/isExist",t)},e.siteupdate=function(t){return i.default.ajax.post("/digiops/site/update",t)},e.siteSpinner=function(t){return i.default.ajax.post("/digiops/site/siteSpinner",t)},e.siteid=function(t){return i.default.ajax.get("/digiops/site/"+t)},e.useradd=function(t){return i.default.ajax.post("/digiops/user/add",t)},e.userpassword=function(t){return i.default.ajax.get("/digiops/user/password",t)},e.userlist=function(t){return i.default.ajax.post("/digiops/user/list",t)},e.userIsExist=function(t){return i.default.ajax.post("/digiops/user/isExist",t)},e.userupdate=function(t){return i.default.ajax.post("/digiops/user/update",t)},e.userid=function(t){return i.default.ajax.get("/digiops/user/"+t)},e.userSpinner=function(){return i.default.ajax.get("/digiops/user/userSpinner")},e.sopAdd=function(t){return i.default.ajax.post("/digiops/sop/add",t)},e.sopCode=function(t){return i.default.ajax.get("/digiops/sop/generatedCode/"+t)},e.sopList=function(t){return i.default.ajax.post("/digiops/sop/list",t)},e.sopUpdate=function(t){return i.default.ajax.post("/digiops/sop/update",t)},e.sopId=function(t){return i.default.ajax.get("/digiops/sop/"+t)},e.sopSpinner=function(t){return i.default.ajax.get("/digiops/sop/sopSpinner/"+t)},e.pointAdd=function(t){return i.default.ajax.post("/digiops/point/add",t)},e.pointCode=function(t){return i.default.ajax.get("/digiops/point/generatedCode/"+t)},e.pointList=function(t){return i.default.ajax.post("/digiops/point/list",t)},e.pointUpdate=function(t){return i.default.ajax.post("/digiops/point/update",t)},e.pointId=function(t){return i.default.ajax.get("/digiops/point/"+t)},e.pointSpinner=function(t){return i.default.ajax.get("/digiops/point/pointSpinner/"+t)},e.pointQrcode=function(t){return i.default.ajax.post("/digiops/upload/qrcode",t)},e.lineAdd=function(t){return i.default.ajax.post("/digiops/line/add",t)},e.lineCode=function(t){return i.default.ajax.get("/digiops/line/generatedCode/"+t)},e.lineList=function(t){return i.default.ajax.post("/digiops/line/list",t)},e.lineUpdate=function(t){return i.default.ajax.post("/digiops/line/update",t)},e.lineId=function(t){return i.default.ajax.get("/digiops/line/"+t)},e.auditAdd=function(t){return i.default.ajax.post("/digiops/audit/add",t)},e.auditCode=function(t){return i.default.ajax.get("/digiops/audit/generatedCode/"+t)},e.auditList=function(t){return i.default.ajax.post("/digiops/audit/list",t)},e.auditUpdate=function(t){return i.default.ajax.post("/digiops/audit/update",t)},e.auditId=function(t){return i.default.ajax.get("/digiops/audit/"+t)},e.shiftAdd=function(t){return i.default.ajax.post("/digiops/shift/add",t)},e.shiftCode=function(t){return i.default.ajax.get("/digiops/shift/generatedCode/"+t)},e.shiftList=function(t){return i.default.ajax.post("/digiops/shift/list",t)},e.shiftUpdate=function(t){return i.default.ajax.post("/digiops/shift/update",t)},e.shiftId=function(t){return i.default.ajax.get("/digiops/shift/"+t)}},285:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(268);e.default={name:"site",data:function(){return{searchIsEnable:"",startDate:"",endDate:"",sitelogotap:!1,operationstatus:"add",siteLogo:"",searchValue:"",searchType:"siteNum",searchTypeList:[{title:"站点编码",key:"siteNum"},{title:"站点名称",key:"siteName"},{title:"状态",key:"isEnable"}],formValidate:{isEnable:0,siteNum:"",siteName:"",siteRemark:"",siteLogo:""},ruleValidate:{siteName:[{required:!0,message:"站点名称不能为空",trigger:"blur"}],siteNum:[{required:!0,message:"站点编码不能为空",trigger:"blur"}]},isshow:!0,newarr:[],total:0,selectList:[],sitecol:[{type:"selection",width:60,align:"center"},{title:"站点编码",key:"siteNum"},{title:"站点名称",key:"siteName"},{title:"描述",key:"siteRemark"},{title:"创建时间",key:"createTime",sortable:!0},{title:"状态",key:"isEnable"}],sitedata:[]}},created:function(){this.getformatdata({pageSize:10,startPage:1})},methods:{search:function(){var t={pageSize:10,startPage:1,startDate:this.startDate,endDate:this.endDate};"isEnable"==this.searchType?t.isEnable=this.searchIsEnable:t[this.searchType]=this.searchValue,""!=this.endDate&&""!=this.startDate?this.endDate>=this.startDate?this.getformatdata(t):(this.$Message.info("结束时间应大于开始时间"),this.endDate=""):this.getformatdata(t)},isExist:function(){var t=this;console.log(),(0,a.siteIsExist)({siteNum:this.formValidate.siteNum}).then(function(e){e.data.data||(t.$Message.info("站点编码重复"),t.formValidate.siteNum="")})},formatDate:function(t){return t+"ddddd"},handleSuccess:function(t,e){console.log(t),this.formValidate.siteLogo=t.data,this.siteLogo=this.$util.ajaxUrl+"/digiops"+t.data},changePage:function(t){this.getformatdata({pageSize:10,startPage:t})},addsite:function(){this.isshow=!1,this.operationstatus="add",this.formValidate.isEnable=0},editsite:function(t,e){var n=this;this.isshow=!1,console.log(t),(0,a.siteid)(t.uuid).then(function(t){console.log(t),n.formValidate={isEnable:t.data.data.isEnable,siteNum:t.data.data.siteNum,siteRemark:t.data.data.siteRemark,siteName:t.data.data.siteName,uuid:t.data.data.uuid,siteLogo:t.data.data.siteLogo},n.siteLogo=n.$util.ajaxUrl+"/digiops"+t.data.data.siteLogo}),this.operationstatus="edit"},handleSubmit:function(t,e){var n=this;this.$refs[t].validate(function(t){t&&(n.$Message.success("Success!"),n.isshow=!0,""==n.formValidate.siteLogo?n.sitelogotap=!0:"add"==n.operationstatus?(0,a.siteadd)(n.formValidate).then(function(t){n.getformatdata({pageSize:10,startPage:1})}):(console.log(n.formValidate),(0,a.siteupdate)(n.formValidate).then(function(t){n.getformatdata({pageSize:10,startPage:1})})),n.formValidate={isEnable:0,siteNum:"",siteName:"",siteRemark:"",siteLogo:""},n.siteLogo="")})},getformatdata:function(t){var e=this;(0,a.sitelist)(t).then(function(t){console.log(t),e.sitedata=t.data.data.records,e.total=t.data.data.total,e.sitedata.forEach(function(t){t.createTime=e.$util.formatTime(t.createTime),t.isEnable=0==t.isEnable?"启用":"禁用"})})},handleReset:function(t){this.$refs[t].resetFields(),this.isshow=!0}}}},343:function(t,e,n){var a=n(344);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(17)("387fa106",a,!1)},344:function(t,e,n){e=t.exports=n(16)(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},345:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isshow?n("div",{staticClass:"wrap"},[n("Row",{staticStyle:{"padding-bottom":"10px"},attrs:{type:"flex",justify:"space-between"}},[n("Col",[n("Button",{attrs:{type:"ghost"},on:{click:t.addsite}},[t._v("新建")])],1),t._v(" "),n("Col",[n("span",[t._v("开始时间：")]),t._v(" "),n("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),n("span",[t._v("结束时间：")]),t._v(" "),n("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),t._v(" "),n("Select",{staticStyle:{width:"100px"},model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},t._l(t.searchTypeList,function(e){return n("Option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.title))])})),t._v(" "),"isEnable"!=t.searchType?n("Input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入搜索的内容"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}):t._e(),t._v(" "),"isEnable"==t.searchType?n("Select",{staticStyle:{width:"200px"},model:{value:t.searchIsEnable,callback:function(e){t.searchIsEnable=e},expression:"searchIsEnable"}},[n("Option",{attrs:{value:0}},[t._v("启用")]),t._v(" "),n("Option",{attrs:{value:1}},[t._v("禁用")])],1):t._e(),t._v(" "),n("Button",{attrs:{icon:"ivu-icon ivu-icon-search"},on:{click:t.search}})],1)],1),t._v(" "),n("Table",{attrs:{border:"",columns:t.sitecol,data:t.sitedata},on:{"on-row-dblclick":t.editsite}}),t._v(" "),n("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[n("div",{staticStyle:{float:"right"}},[n("Page",{attrs:{total:t.total,"page-size":10},on:{"on-change":t.changePage}})],1)])],1):n("Form",{ref:"formValidate",staticClass:"wrap",attrs:{rules:t.ruleValidate,model:t.formValidate,"label-width":80}},[n("Row",[n("Col",{attrs:{xs:24,lg:12}},[n("FormItem",{attrs:{label:"站点编码",prop:"siteNum"}},[n("Input",{attrs:{disabled:"add"!=t.operationstatus},on:{"on-blur":t.isExist},model:{value:t.formValidate.siteNum,callback:function(e){t.$set(t.formValidate,"siteNum",e)},expression:"formValidate.siteNum"}})],1)],1),t._v(" "),n("Col",{attrs:{xs:24,lg:12}},[n("FormItem",{attrs:{label:"站点名称",prop:"siteName"}},[n("Input",{model:{value:t.formValidate.siteName,callback:function(e){t.$set(t.formValidate,"siteName",e)},expression:"formValidate.siteName"}})],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{xs:24,lg:12}},[n("FormItem",{attrs:{label:"站点描述",prop:"siteRemark"}},[n("Input",{model:{value:t.formValidate.siteRemark,callback:function(e){t.$set(t.formValidate,"siteRemark",e)},expression:"formValidate.siteRemark"}})],1)],1),t._v(" "),n("Col",{attrs:{xs:24,lg:12}},[n("FormItem",{attrs:{label:"站点状态"}},[n("RadioGroup",{model:{value:t.formValidate.isEnable,callback:function(e){t.$set(t.formValidate,"isEnable",e)},expression:"formValidate.isEnable"}},[n("Radio",{attrs:{label:0}},[t._v("启用")]),t._v(" "),n("Radio",{attrs:{label:1}},[t._v("禁用")])],1)],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("Upload",{attrs:{name:"logo","on-success":t.handleSuccess,action:t.$util.ajaxUrl+"/digiops/upload/picture"}},[n("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[t._v("上传站点头像")]),t._v(" "),t.sitelogotap?n("p",[t._v("必须上传站点头像")]):t._e()],1),t._v(" "),n("img",{attrs:{src:t.siteLogo,alt:""}})],1),t._v(" "),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formValidate",t.formValidate)}}},[t._v("保存")]),t._v(" "),n("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(e){t.handleReset("formValidate")}}},[t._v("取消")])],1)],1)],1)],1)},i=[];a._withStripped=!0;var s={render:a,staticRenderFns:i};e.default=s}});