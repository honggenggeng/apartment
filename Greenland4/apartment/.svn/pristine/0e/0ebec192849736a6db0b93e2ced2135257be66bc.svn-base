webpackJsonp([7],{258:function(t,n,e){"use strict";function i(t){u||e(322)}Object.defineProperty(n,"__esModule",{value:!0});var a=e(278),o=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(n,t,function(){return a[t]})}(s);var r=e(324),d=e.n(r),u=!1,l=e(1),p=i,c=l(o.a,d.a,!1,p,"data-v-5aa09d81",null);c.options.__file="src\\views\\aden\\digiops\\planer\\checkpoint.vue",n.default=c.exports},268:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shiftId=n.shiftUpdate=n.shiftList=n.shiftCode=n.shiftAdd=n.auditId=n.auditUpdate=n.auditList=n.auditCode=n.auditAdd=n.lineId=n.lineUpdate=n.lineList=n.lineCode=n.lineAdd=n.pointQrcode=n.pointSpinner=n.pointId=n.pointUpdate=n.pointList=n.pointCode=n.pointAdd=n.sopSpinner=n.sopId=n.sopUpdate=n.sopList=n.sopCode=n.sopAdd=n.userSpinner=n.userid=n.userupdate=n.userIsExist=n.userlist=n.userpassword=n.useradd=n.siteid=n.siteSpinner=n.siteupdate=n.siteIsExist=n.sitelist=n.siteallList=n.siteadd=n.roleupdate=n.roleadd=n.roleId=n.rolelist=n.rolemenuList=n.menu=n.upload=n.login=n.insertRole=void 0;var i=e(11),a=function(t){return t&&t.__esModule?t:{default:t}}(i);n.insertRole=function(t){return a.default.ajax.post("/digiops/role/insertRole",t)},n.login=function(t){return a.default.ajax.post("/digiops/digiops/login",t)},n.upload=function(t){return a.default.ajax.post("/digiops/upload/picture",t)},n.menu=function(){return a.default.ajax.get("/digiops/role/queryMenuList")},n.rolemenuList=function(){return a.default.ajax.get("/digiops/role/menuList")},n.rolelist=function(){return a.default.ajax.get("/digiops/role/list")},n.roleId=function(t){return a.default.ajax.get("/digiops/role/"+t)},n.roleadd=function(t){return a.default.ajax.post("/digiops/role/add",t)},n.roleupdate=function(t){return a.default.ajax.post("/digiops/role/update",t)},n.siteadd=function(t){return a.default.ajax.post("/digiops/site/add",t)},n.siteallList=function(t){return a.default.ajax.post("/digiops/site/allList",t)},n.sitelist=function(t){return a.default.ajax.post("/digiops/site/list",t)},n.siteIsExist=function(t){return a.default.ajax.post("/digiops/site/isExist",t)},n.siteupdate=function(t){return a.default.ajax.post("/digiops/site/update",t)},n.siteSpinner=function(t){return a.default.ajax.post("/digiops/site/siteSpinner",t)},n.siteid=function(t){return a.default.ajax.get("/digiops/site/"+t)},n.useradd=function(t){return a.default.ajax.post("/digiops/user/add",t)},n.userpassword=function(t){return a.default.ajax.get("/digiops/user/password",t)},n.userlist=function(t){return a.default.ajax.post("/digiops/user/list",t)},n.userIsExist=function(t){return a.default.ajax.post("/digiops/user/isExist",t)},n.userupdate=function(t){return a.default.ajax.post("/digiops/user/update",t)},n.userid=function(t){return a.default.ajax.get("/digiops/user/"+t)},n.userSpinner=function(){return a.default.ajax.get("/digiops/user/userSpinner")},n.sopAdd=function(t){return a.default.ajax.post("/digiops/sop/add",t)},n.sopCode=function(t){return a.default.ajax.get("/digiops/sop/generatedCode/"+t)},n.sopList=function(t){return a.default.ajax.post("/digiops/sop/list",t)},n.sopUpdate=function(t){return a.default.ajax.post("/digiops/sop/update",t)},n.sopId=function(t){return a.default.ajax.get("/digiops/sop/"+t)},n.sopSpinner=function(t){return a.default.ajax.get("/digiops/sop/sopSpinner/"+t)},n.pointAdd=function(t){return a.default.ajax.post("/digiops/point/add",t)},n.pointCode=function(t){return a.default.ajax.get("/digiops/point/generatedCode/"+t)},n.pointList=function(t){return a.default.ajax.post("/digiops/point/list",t)},n.pointUpdate=function(t){return a.default.ajax.post("/digiops/point/update",t)},n.pointId=function(t){return a.default.ajax.get("/digiops/point/"+t)},n.pointSpinner=function(t){return a.default.ajax.get("/digiops/point/pointSpinner/"+t)},n.pointQrcode=function(t){return a.default.ajax.post("/digiops/upload/qrcode",t)},n.lineAdd=function(t){return a.default.ajax.post("/digiops/line/add",t)},n.lineCode=function(t){return a.default.ajax.get("/digiops/line/generatedCode/"+t)},n.lineList=function(t){return a.default.ajax.post("/digiops/line/list",t)},n.lineUpdate=function(t){return a.default.ajax.post("/digiops/line/update",t)},n.lineId=function(t){return a.default.ajax.get("/digiops/line/"+t)},n.auditAdd=function(t){return a.default.ajax.post("/digiops/audit/add",t)},n.auditCode=function(t){return a.default.ajax.get("/digiops/audit/generatedCode/"+t)},n.auditList=function(t){return a.default.ajax.post("/digiops/audit/list",t)},n.auditUpdate=function(t){return a.default.ajax.post("/digiops/audit/update",t)},n.auditId=function(t){return a.default.ajax.get("/digiops/audit/"+t)},n.shiftAdd=function(t){return a.default.ajax.post("/digiops/shift/add",t)},n.shiftCode=function(t){return a.default.ajax.get("/digiops/shift/generatedCode/"+t)},n.shiftList=function(t){return a.default.ajax.post("/digiops/shift/list",t)},n.shiftUpdate=function(t){return a.default.ajax.post("/digiops/shift/update",t)},n.shiftId=function(t){return a.default.ajax.get("/digiops/shift/"+t)}},278:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(268);n.default={data:function(){return{searchIsEnable:2,startDate:"",endDate:"",operationstatus:"add",siteList:[],sopList:[],total:0,showcom:!0,searchValue:"",qrcodeUrl:"",searchType:"pointNum",searchTypeList:[{title:"检查点编码",key:"pointNum"},{title:"检查点名称",key:"pointName"},{title:"站点",key:"siteName"},{title:"SOP编码 ",key:"sopNum"},{title:"状态",key:"isEnable"}],formValidate:{pointNum:"",pointName:"",sopUuid:"",qrcode:"",qrcodePicture:"",siteUuid:"",isEnable:0},ruleValidate:{pointName:[{required:!0,message:"检查点名称为必填项",trigger:"change"}],siteUuid:[{required:!0,message:"站点为必填项",trigger:"change"}]},columns:[{type:"selection",width:60,align:"center"},{title:"检查点编码",key:"pointNum"},{title:"检查点名称",key:"pointName"},{title:"站点",key:"siteName"},{title:"SOP编码 ",key:"sopNum"},{title:"创建时间",key:"createTime",sortType:"desc"},{title:"状态",key:"isEnable"}],data:[]}},created:function(){var t=this;this.getformatdata({pageSize:10,startPage:1}),(0,i.siteSpinner)().then(function(n){t.siteList=n.data.data})},computed:{power:function(){return!1}},methods:{search:function(){var t={pageSize:10,startPage:1,startDate:this.startDate,endDate:this.endDate};"isEnable"==this.searchType?t.isEnable=this.searchIsEnable:t[this.searchType]=this.searchValue,""!=this.endDate&&""!=this.startDate?this.endDate>=this.startDate?this.getformatdata(t):(this.$Message.info("结束时间应大于开始时间"),this.endDate=""):this.getformatdata(t)},handleSelectAll:function(t){this.$refs.selection.selectAll(t)},handleSubmit:function(t){var n=this;this.$refs[t].validate(function(t){t?(n.$Message.success("Success!"),n.showcom=!0,"add"==n.operationstatus?(console.log(n.formValidate),(0,i.pointAdd)(n.formValidate).then(function(t){n.getformatdata({pageSize:10,startPage:1})})):(0,i.pointUpdate)(n.formValidate).then(function(t){n.getformatdata({pageSize:10,startPage:1})}),n.formValidate={pointNum:"",pointName:"",sopUuid:"",qrcode:"",qrcodePicture:"",siteUuid:"",isEnable:0},n.qrcodeUrl=""):n.$Message.error("Fail!")})},handleReset:function(t){this.formValidate={pointNum:"",pointName:"",sopUuid:"",qrcode:"",qrcodePicture:"",siteUuid:"",isEnable:0},this.qrcodeUrl="",this.showcom=!0},handleAdd:function(){this.index++,this.formValidate.items.push({value:"",index:this.index,status:1})},handleRemove:function(t){this.formValidate.items[t].status=0},addPoint:function(){this.showcom=!1,this.operationstatus="add"},removePoint:function(){},copyPoint:function(){this.selection.length},onSelect:function(t,n){this.selection=t},editPoint:function(t,n){var e=this;(0,i.pointId)(t.uuid).then(function(t){var n=t.data.data;e.formValidate={pointNum:n.pointNum,pointName:n.pointName,sopUuid:n.sopUuid,qrcode:n.qrcode,qrcodePicture:n.qrcodePicture,siteUuid:n.siteUuid,isEnable:n.isEnable,uuid:n.uuid},e.qrcodeUrl=e.$util.ajaxUrl+"/digiops"+n.qrcodePicture}),this.showcom=!1,this.operationstatus="edit"},createImg:function(){var t=this;if(""!=this.formValidate.qrcode){var n=new FormData;n.append("code",this.formValidate.qrcode),(0,i.pointQrcode)(n).then(function(n){t.formValidate.qrcodePicture=n.data.data,t.qrcodeUrl=t.$util.ajaxUrl+"/digiops"+n.data.data})}},siteChange:function(t){var n=this;console.log(t),(0,i.sopSpinner)(t).then(function(t){console.log(t),n.sopList=t.data.data}),"add"==this.operationstatus&&(0,i.pointCode)(t).then(function(t){console.log(t),n.formValidate.pointNum=t.data.data})},onChange:function(t){this.getformatdata({pageSize:10,startPage:t})},getformatdata:function(t){var n=this;(0,i.pointList)(t).then(function(t){n.data=t.data.data.records,n.total=t.data.data.total,n.data.forEach(function(t){t.createTime=n.$util.formatTime(t.createTime),t.isEnable=0==t.isEnable?"启用":"禁用"})})}}}},322:function(t,n,e){var i=e(323);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(17)("48da5442",i,!1)},323:function(t,n,e){n=t.exports=e(16)(!1),n.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},324:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"operation",attrs:{id:"bb"}},[t.showcom?e("div",{staticClass:"wrap"},[e("Row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",justify:"space-between"}},[e("Col",[e("Button",{staticStyle:{"margin-right":"20px"},attrs:{type:"ghost",disabled:t.power},on:{click:t.addPoint}},[t._v("新建")]),t._v(" "),e("Button",{staticStyle:{"margin-right":"20px"},attrs:{type:"ghost",disabled:t.power},on:{click:t.removePoint}},[t._v("\n        删除\n      ")]),t._v(" "),e("Button",{attrs:{type:"ghost",disabled:t.power},on:{click:t.copyPoint}},[t._v("\n        复制\n      ")])],1),t._v(" "),e("Col",[e("span",[t._v("开始时间：")]),t._v(" "),e("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:t.startDate,callback:function(n){t.startDate=n},expression:"startDate"}}),t._v(" "),e("span",[t._v("结束时间：")]),t._v(" "),e("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:t.endDate,callback:function(n){t.endDate=n},expression:"endDate"}}),t._v(" "),e("Select",{staticStyle:{width:"100px"},model:{value:t.searchType,callback:function(n){t.searchType=n},expression:"searchType"}},t._l(t.searchTypeList,function(n){return e("Option",{key:n.key,attrs:{value:n.key}},[t._v(t._s(n.title))])})),t._v(" "),"isEnable"!=t.searchType?e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入搜索的内容"},model:{value:t.searchValue,callback:function(n){t.searchValue=n},expression:"searchValue"}}):t._e(),t._v(" "),"isEnable"==t.searchType?e("Select",{staticStyle:{width:"200px"},model:{value:t.searchIsEnable,callback:function(n){t.searchIsEnable=n},expression:"searchIsEnable"}},[e("Option",{attrs:{value:0}},[t._v("启用")]),t._v(" "),e("Option",{attrs:{value:1}},[t._v("禁用")])],1):t._e(),t._v(" "),e("Button",{attrs:{icon:"ivu-icon ivu-icon-search"},on:{click:t.search}})],1)],1),t._v(" "),e("Table",{ref:"selection",attrs:{border:"",columns:t.columns,data:t.data},on:{"on-select":t.onSelect,"on-row-dblclick":t.editPoint}}),t._v(" "),e("div",{staticStyle:{float:"right",margin:"10px"}},[e("Page",{attrs:{total:t.total,"page-size":10},on:{"on-change":t.onChange}})],1)],1):e("div",{staticClass:"wrap"},[e("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-position":"right","label-width":100}},[e("Row",[e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"站点",prop:"siteUuid"}},[e("Select",{on:{"on-change":t.siteChange},model:{value:t.formValidate.siteUuid,callback:function(n){t.$set(t.formValidate,"siteUuid",n)},expression:"formValidate.siteUuid"}},t._l(t.siteList,function(n){return e("Option",{key:n.siteId,attrs:{value:n.uuid}},[t._v(t._s(n.siteName))])}))],1)],1),t._v(" "),e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"sop编号",prop:"sopUuid"}},[e("Select",{model:{value:t.formValidate.sopUuid,callback:function(n){t.$set(t.formValidate,"sopUuid",n)},expression:"formValidate.sopUuid"}},t._l(t.sopList,function(n){return e("Option",{key:n.uuid,attrs:{value:n.uuid}},[t._v(t._s(n.sopNum))])}))],1)],1)],1),t._v(" "),e("Row",[e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"检查点编码",prop:"pointNum"}},[e("Input",{attrs:{disabled:""},model:{value:t.formValidate.pointNum,callback:function(n){t.$set(t.formValidate,"pointNum",n)},expression:"formValidate.pointNum"}})],1)],1),t._v(" "),e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"检查点名称",prop:"pointName"}},[e("Input",{model:{value:t.formValidate.pointName,callback:function(n){t.$set(t.formValidate,"pointName",n)},expression:"formValidate.pointName"}})],1)],1)],1),t._v(" "),e("Row",[e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"二维码标识",prop:"qrcode"}},[e("Input",{model:{value:t.formValidate.qrcode,callback:function(n){t.$set(t.formValidate,"qrcode",n)},expression:"formValidate.qrcode"}})],1),t._v(" "),e("Col",{staticStyle:{"margin-right":"40px"},attrs:{span:"3",offset:"1"}},[e("Button",{on:{click:t.createImg}},[t._v("生成图片")])],1),t._v(" "),e("Col",{attrs:{span:"6"}},[e("img",{staticStyle:{width:"100%"},attrs:{src:t.qrcodeUrl,alt:""}})])],1)],1),t._v(" "),e("Row",[e("FormItem",{attrs:{label:"状态",prop:"isEnable"}},[e("RadioGroup",{model:{value:t.formValidate.isEnable,callback:function(n){t.$set(t.formValidate,"isEnable",n)},expression:"formValidate.isEnable"}},[e("Radio",{attrs:{label:0}},[t._v("启用")]),t._v(" "),e("Radio",{attrs:{label:1}},[t._v("禁用")])],1)],1),t._v(" "),e("FormItem",[e("Button",{staticClass:"save ",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",disabled:t.power},on:{click:function(n){t.handleSubmit("formValidate")}}},[t._v("保存")]),t._v(" "),e("Button",{staticClass:"button ",staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(n){t.handleReset("formValidate")}}},[t._v("取消")])],1)],1)],1)],1)])},a=[];i._withStripped=!0;var o={render:i,staticRenderFns:a};n.default=o}});