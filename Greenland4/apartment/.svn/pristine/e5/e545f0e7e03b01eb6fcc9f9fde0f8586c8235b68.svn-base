webpackJsonp([5],{260:function(n,t,e){"use strict";function i(n){l||e(328)}Object.defineProperty(t,"__esModule",{value:!0});var a=e(280),s=e.n(a);for(var o in a)"default"!==o&&function(n){e.d(t,n,function(){return a[n]})}(o);var r=e(330),d=e.n(r),l=!1,u=e(1),p=i,c=u(s.a,d.a,!1,p,"data-v-ba7b47ce",null);c.options.__file="src\\views\\aden\\digiops\\planer\\shift.vue",t.default=c.exports},268:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shiftId=t.shiftUpdate=t.shiftList=t.shiftCode=t.shiftAdd=t.auditId=t.auditUpdate=t.auditList=t.auditCode=t.auditAdd=t.lineId=t.lineUpdate=t.lineList=t.lineCode=t.lineAdd=t.pointQrcode=t.pointSpinner=t.pointId=t.pointUpdate=t.pointList=t.pointCode=t.pointAdd=t.sopSpinner=t.sopId=t.sopUpdate=t.sopList=t.sopCode=t.sopAdd=t.userSpinner=t.userid=t.userupdate=t.userIsExist=t.userlist=t.userpassword=t.useradd=t.siteid=t.siteSpinner=t.siteupdate=t.siteIsExist=t.sitelist=t.siteallList=t.siteadd=t.roleupdate=t.roleadd=t.roleId=t.rolelist=t.rolemenuList=t.menu=t.upload=t.login=t.insertRole=void 0;var i=e(11),a=function(n){return n&&n.__esModule?n:{default:n}}(i);t.insertRole=function(n){return a.default.ajax.post("/digiops/role/insertRole",n)},t.login=function(n){return a.default.ajax.post("/digiops/digiops/login",n)},t.upload=function(n){return a.default.ajax.post("/digiops/upload/picture",n)},t.menu=function(){return a.default.ajax.get("/digiops/role/queryMenuList")},t.rolemenuList=function(){return a.default.ajax.get("/digiops/role/menuList")},t.rolelist=function(){return a.default.ajax.get("/digiops/role/list")},t.roleId=function(n){return a.default.ajax.get("/digiops/role/"+n)},t.roleadd=function(n){return a.default.ajax.post("/digiops/role/add",n)},t.roleupdate=function(n){return a.default.ajax.post("/digiops/role/update",n)},t.siteadd=function(n){return a.default.ajax.post("/digiops/site/add",n)},t.siteallList=function(n){return a.default.ajax.post("/digiops/site/allList",n)},t.sitelist=function(n){return a.default.ajax.post("/digiops/site/list",n)},t.siteIsExist=function(n){return a.default.ajax.post("/digiops/site/isExist",n)},t.siteupdate=function(n){return a.default.ajax.post("/digiops/site/update",n)},t.siteSpinner=function(n){return a.default.ajax.post("/digiops/site/siteSpinner",n)},t.siteid=function(n){return a.default.ajax.get("/digiops/site/"+n)},t.useradd=function(n){return a.default.ajax.post("/digiops/user/add",n)},t.userpassword=function(n){return a.default.ajax.get("/digiops/user/password",n)},t.userlist=function(n){return a.default.ajax.post("/digiops/user/list",n)},t.userIsExist=function(n){return a.default.ajax.post("/digiops/user/isExist",n)},t.userupdate=function(n){return a.default.ajax.post("/digiops/user/update",n)},t.userid=function(n){return a.default.ajax.get("/digiops/user/"+n)},t.userSpinner=function(){return a.default.ajax.get("/digiops/user/userSpinner")},t.sopAdd=function(n){return a.default.ajax.post("/digiops/sop/add",n)},t.sopCode=function(n){return a.default.ajax.get("/digiops/sop/generatedCode/"+n)},t.sopList=function(n){return a.default.ajax.post("/digiops/sop/list",n)},t.sopUpdate=function(n){return a.default.ajax.post("/digiops/sop/update",n)},t.sopId=function(n){return a.default.ajax.get("/digiops/sop/"+n)},t.sopSpinner=function(n){return a.default.ajax.get("/digiops/sop/sopSpinner/"+n)},t.pointAdd=function(n){return a.default.ajax.post("/digiops/point/add",n)},t.pointCode=function(n){return a.default.ajax.get("/digiops/point/generatedCode/"+n)},t.pointList=function(n){return a.default.ajax.post("/digiops/point/list",n)},t.pointUpdate=function(n){return a.default.ajax.post("/digiops/point/update",n)},t.pointId=function(n){return a.default.ajax.get("/digiops/point/"+n)},t.pointSpinner=function(n){return a.default.ajax.get("/digiops/point/pointSpinner/"+n)},t.pointQrcode=function(n){return a.default.ajax.post("/digiops/upload/qrcode",n)},t.lineAdd=function(n){return a.default.ajax.post("/digiops/line/add",n)},t.lineCode=function(n){return a.default.ajax.get("/digiops/line/generatedCode/"+n)},t.lineList=function(n){return a.default.ajax.post("/digiops/line/list",n)},t.lineUpdate=function(n){return a.default.ajax.post("/digiops/line/update",n)},t.lineId=function(n){return a.default.ajax.get("/digiops/line/"+n)},t.auditAdd=function(n){return a.default.ajax.post("/digiops/audit/add",n)},t.auditCode=function(n){return a.default.ajax.get("/digiops/audit/generatedCode/"+n)},t.auditList=function(n){return a.default.ajax.post("/digiops/audit/list",n)},t.auditUpdate=function(n){return a.default.ajax.post("/digiops/audit/update",n)},t.auditId=function(n){return a.default.ajax.get("/digiops/audit/"+n)},t.shiftAdd=function(n){return a.default.ajax.post("/digiops/shift/add",n)},t.shiftCode=function(n){return a.default.ajax.get("/digiops/shift/generatedCode/"+n)},t.shiftList=function(n){return a.default.ajax.post("/digiops/shift/list",n)},t.shiftUpdate=function(n){return a.default.ajax.post("/digiops/shift/update",n)},t.shiftId=function(n){return a.default.ajax.get("/digiops/shift/"+n)}},280:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(31),a=function(n){return n&&n.__esModule?n:{default:n}}(i),s=e(268);t.default={data:function(){return{searchIsEnable:2,startDate:"",endDate:"",typeList:[{title:"是否正常",type:"button"},{title:"单选框",type:"radio"},{title:"下拉框",type:"select"},{title:"输入框",type:"text"}],columns:[],operationstatus:"add",data:[{title:"rrrrrrr",type:"button",content:[]},{title:"aaaaaaa",type:"button",content:[]},{title:"xxxxxxxx",type:"button",content:[]}],searchValue:"",searchType:"shiftNum",searchTypeList:[{title:"交接班编号",key:"shiftNum"},{title:"交接班名称",key:"shiftName"},{title:"站点名称",key:"siteName"},{title:"状态",key:"isEnable"}],modal:!1,total:0,tableData1:[],showcom:!0,selection:[],siteList:[],optionList:[],formValidate:{shiftNum:"",shiftName:"",siteUuid:"",isEnable:0},ruleValidate:{shiftNum:[{required:!1,trigger:"change"}],shiftName:[{required:!0,message:"名称为必填项",trigger:"change"}],siteUuid:[{required:!0,message:"站点为必填项",trigger:"change"}]},columns4:[{type:"selection",width:60,align:"center"},{title:"交接班编号",key:"shiftNum"},{title:"交接班名称",key:"shiftName"},{title:"站点名称",key:"siteName"},{title:"创建时间",key:"createTime",sortable:!0},{title:"状态",key:"isEnable"}]}},created:function(){var n=this;this.init(),this.getformatdata({pageSize:10,startPage:1}),(0,s.siteSpinner)().then(function(t){n.siteList=t.data.data})},methods:{search:function(){var n={pageSize:10,startPage:1,startDate:this.startDate,endDate:this.endDate};"isEnable"==this.searchType?n.isEnable=this.searchIsEnable:n[this.searchType]=this.searchValue,""!=this.endDate&&""!=this.startDate?this.endDate>=this.startDate?this.getformatdata(n):(this.$Message.info("结束时间应大于开始时间"),this.endDate=""):this.getformatdata(n)},onChangeSite:function(n){var t=this;"add"==this.operationstatus&&(0,s.shiftCode)(n).then(function(n){t.formValidate.shiftNum=n.data.data})},handleSelectAll:function(n){this.$refs.selection.selectAll(n)},handleSubmit:function(n){var t=this;this.$refs[n].validate(function(n){n?(t.$Message.success("Success!"),t.data.forEach(function(n,t){n.seq=t}),t.formValidate.shiftTemplate=(0,a.default)(t.data),console.log(t.formValidate),"add"==t.operationstatus?(0,s.shiftAdd)(t.formValidate).then(function(n){t.getformatdata({pageSize:10,startPage:1})}):(0,s.shiftUpdate)(t.formValidate).then(function(n){t.getformatdata({pageSize:10,startPage:1})}),t.formValidate={shiftNum:"",shiftName:"",siteUuid:"",isEnable:0},t.data=[],t.showcom=!0):t.$Message.error("Fail!")})},handleReset:function(n){this.showcom=!0,this.$refs[n].resetFields(),this.data=[]},add:function(){this.data.push({title:"ss",type:2,content:[]})},addoption:function(){this.optionList.push({value:"aa"})},ok:function(){this.data[this.activeindex].content=this.optionList,this.optionList=[]},cancel:function(){},addShift:function(){this.showcom=!1,this.operationstatus="add"},editShift:function(n,t){var e=this;(0,s.shiftId)(n.uuid).then(function(n){var t=n.data.data;e.formValidate={shiftNum:t.shiftNum,shiftName:t.shiftName,siteUuid:t.siteUuid,isEnable:t.isEnable,uuid:t.uuid},e.data=t.templates}),this.showcom=!1,this.operationstatus="edit"},removeShift:function(){},copyShift:function(){},onSelect:function(n,t){this.selection=n},onChange:function(n){this.getformatdata({pageSize:10,startPage:n})},delOption:function(n){this.optionList.splice(n,1)},getformatdata:function(n){var t=this;(0,s.shiftList)(n).then(function(n){t.tableData1=n.data.data.records,t.total=n.data.data.total,t.tableData1.forEach(function(n){n.createTime=t.$util.formatTime(n.createTime),n.isEnable=0==n.isEnable?"启用":"禁用"})})},init:function(){var n=this;this.columns=[{title:"序号",width:80,align:"center",type:"index"},{title:"交接班名称",key:"title",render:function(t,e){return t("Input",{props:{type:"text",value:n.data[e.index].title},on:{"on-blur":function(t){n.data[e.index].title=t.target.value}}})}},{title:"交接班类型",key:"type",render:function(t,e){return t("Select",{props:{value:n.data[e.index].type},on:{"on-change":function(t){n.data[e.index].type=t}}},n.typeList.map(function(n){return t("Option",{props:{value:n.type}},n.title)}))}},{title:"操作",key:"content",align:"center",render:function(t,e){return t("div",[t("Button",{props:{type:"primary",size:"default"},style:{marginRight:"5px"},on:{click:function(){n.activeindex=e.index,n.modal=!0,"string"==typeof n.data[e.index].content?n.optionList=JSON.parse(n.data[e.index].content):n.optionList=n.data[e.index].content}}},"设置"),t("Button",{props:{type:"error",size:"default"},style:{marginRight:"5px"},on:{click:function(){n.data.splice(e.index,1)}}},"删除"),t("Button",{props:{type:"primary",size:"default"},style:{marginRight:"5px"},on:{click:function(){if(e.index>0){var t=n.data[e.index];n.data.splice(e.index,1),n.data.splice(e.index-1,0,t)}}}},"上移"),t("Button",{props:{type:"primary",size:"default"},on:{click:function(){if(e.index<n.data.length){var t=n.data[e.index];n.data.splice(e.index,1),n.data.splice(e.index+1,0,t)}}}},"下移")])}}]}},computed:{}}},328:function(n,t,e){var i=e(329);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e(17)("00e40818",i,!1)},329:function(n,t,e){t=n.exports=e(16)(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},330:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"operation"},[n.showcom?e("div",{staticClass:"wrap"},[e("Row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",justify:"space-between"}},[e("Col",[e("Button",{staticStyle:{"margin-right":"20px"},attrs:{type:"ghost"},on:{click:n.addShift}},[n._v("新建")]),n._v(" "),e("Button",{attrs:{type:"ghost"},on:{click:n.removeShift}},[n._v("\n        删除\n      ")])],1),n._v(" "),e("Col",[e("span",[n._v("开始时间：")]),n._v(" "),e("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:n.startDate,callback:function(t){n.startDate=t},expression:"startDate"}}),n._v(" "),e("span",[n._v("结束时间：")]),n._v(" "),e("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:n.endDate,callback:function(t){n.endDate=t},expression:"endDate"}}),n._v(" "),e("Select",{staticStyle:{width:"100px"},model:{value:n.searchType,callback:function(t){n.searchType=t},expression:"searchType"}},n._l(n.searchTypeList,function(t){return e("Option",{key:t.key,attrs:{value:t.key}},[n._v(n._s(t.title))])})),n._v(" "),"isEnable"!=n.searchType?e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入搜索的内容"},model:{value:n.searchValue,callback:function(t){n.searchValue=t},expression:"searchValue"}}):n._e(),n._v(" "),"isEnable"==n.searchType?e("Select",{staticStyle:{width:"200px"},model:{value:n.searchIsEnable,callback:function(t){n.searchIsEnable=t},expression:"searchIsEnable"}},[e("Option",{attrs:{value:0}},[n._v("启用")]),n._v(" "),e("Option",{attrs:{value:1}},[n._v("禁用")])],1):n._e(),n._v(" "),e("Button",{attrs:{icon:"ivu-icon ivu-icon-search"},on:{click:n.search}})],1)],1),n._v(" "),e("Table",{attrs:{border:"",data:n.tableData1,columns:n.columns4},on:{"on-select":n.onSelect,"on-row-dblclick":n.editShift}}),n._v(" "),e("div",{staticStyle:{float:"right",margin:"10px"}},[e("Page",{attrs:{total:n.total,"page-size":10},on:{"on-change":n.onChange}})],1)],1):e("Form",{ref:"formValidate",staticClass:"wrap",attrs:{model:n.formValidate,rules:n.ruleValidate,"label-position":"right","label-width":100}},[e("Row",[e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"站点名称",prop:"siteUuid"}},[e("Select",{on:{"on-change":n.onChangeSite},model:{value:n.formValidate.siteUuid,callback:function(t){n.$set(n.formValidate,"siteUuid",t)},expression:"formValidate.siteUuid"}},n._l(n.siteList,function(t,i){return e("Option",{key:i,attrs:{value:t.uuid}},[n._v(n._s(t.siteName))])}))],1)],1),n._v(" "),e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"交接班编号",prop:"shiftNum"}},[e("Input",{attrs:{disabled:""},model:{value:n.formValidate.shiftNum,callback:function(t){n.$set(n.formValidate,"shiftNum",t)},expression:"formValidate.shiftNum"}})],1)],1)],1),n._v(" "),e("Row",[e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"名称",prop:"shiftName"}},[e("Input",{model:{value:n.formValidate.shiftName,callback:function(t){n.$set(n.formValidate,"shiftName",t)},expression:"formValidate.shiftName"}})],1)],1),n._v(" "),e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",{attrs:{label:"状态",prop:"isEnable"}},[e("RadioGroup",{model:{value:n.formValidate.isEnable,callback:function(t){n.$set(n.formValidate,"isEnable",t)},expression:"formValidate.isEnable"}},[e("Radio",{attrs:{label:0}},[n._v("启用")]),n._v(" "),e("Radio",{attrs:{label:1}},[n._v("禁用")])],1)],1)],1)],1),n._v(" "),e("Row",[e("Col",{attrs:{xs:24,lg:12}},[e("FormItem",[e("div",{staticStyle:{position:"relative",left:"-100px"}},[e("Button",{attrs:{type:"ghost"},on:{click:n.add}},[n._v("添加新项")]),n._v(" "),e("Button",{staticClass:"button ",staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"}},[n._v("导入列表")])],1)])],1)],1),n._v(" "),e("Table",{attrs:{columns:n.columns,data:n.data,border:!0}}),n._v(" "),e("Modal",{attrs:{title:"编辑选项"},on:{"on-ok":n.ok,"on-cancel":n.cancel},model:{value:n.modal,callback:function(t){n.modal=t},expression:"modal"}},[e("Button",{attrs:{type:"primary"},on:{click:n.addoption}},[n._v("添加")]),n._v(" "),n._l(n.optionList,function(t,i){return e("Row",{key:i,staticStyle:{margin:"5px 0"}},[e("Col",{attrs:{span:"20","class-name":"optionStyleBtn"}},[e("Input",{key:i,model:{value:t.value,callback:function(e){n.$set(t,"value",e)},expression:"item.value"}})],1),n._v(" "),e("Col",{staticStyle:{"margin-left":"10px"},attrs:{span:"2"}},[e("Button",{on:{click:function(t){n.delOption(i)}}},[n._v("删除")])],1)],1)})],2),n._v(" "),e("Col",{staticStyle:{"margin-top":"20px"},attrs:{xs:24,lg:12}},[e("FormItem",[e("Button",{staticClass:"save ",staticStyle:{"margin-left":"0px"},attrs:{type:"primary"},on:{click:function(t){n.handleSubmit("formValidate")}}},[n._v("保存")]),n._v(" "),e("Button",{staticClass:"button ",staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(t){n.handleReset("formValidate")}}},[n._v("取消")])],1)],1)],1)],1)},a=[];i._withStripped=!0;var s={render:i,staticRenderFns:a};t.default=s}});