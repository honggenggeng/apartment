webpackJsonp([3],{264:function(e,t,a){"use strict";function i(e){d||a(340)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(284),o=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var n=a(342),l=a.n(n),d=!1,u=a(1),p=i,c=u(o.a,l.a,!1,p,"data-v-6d31e5a2",null);c.options.__file="src\\views\\aden\\digiops\\schedule\\schedule.vue",t.default=c.exports},268:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shiftId=t.shiftUpdate=t.shiftList=t.shiftCode=t.shiftAdd=t.auditId=t.auditUpdate=t.auditList=t.auditCode=t.auditAdd=t.lineId=t.lineUpdate=t.lineList=t.lineCode=t.lineAdd=t.pointQrcode=t.pointSpinner=t.pointId=t.pointUpdate=t.pointList=t.pointCode=t.pointAdd=t.sopSpinner=t.sopId=t.sopUpdate=t.sopList=t.sopCode=t.sopAdd=t.userSpinner=t.userid=t.userupdate=t.userIsExist=t.userlist=t.userpassword=t.useradd=t.siteid=t.siteSpinner=t.siteupdate=t.siteIsExist=t.sitelist=t.siteallList=t.siteadd=t.roleupdate=t.roleadd=t.roleId=t.rolelist=t.rolemenuList=t.menu=t.upload=t.login=t.insertRole=void 0;var i=a(11),s=function(e){return e&&e.__esModule?e:{default:e}}(i);t.insertRole=function(e){return s.default.ajax.post("/digiops/role/insertRole",e)},t.login=function(e){return s.default.ajax.post("/digiops/digiops/login",e)},t.upload=function(e){return s.default.ajax.post("/digiops/upload/picture",e)},t.menu=function(){return s.default.ajax.get("/digiops/role/queryMenuList")},t.rolemenuList=function(){return s.default.ajax.get("/digiops/role/menuList")},t.rolelist=function(){return s.default.ajax.get("/digiops/role/list")},t.roleId=function(e){return s.default.ajax.get("/digiops/role/"+e)},t.roleadd=function(e){return s.default.ajax.post("/digiops/role/add",e)},t.roleupdate=function(e){return s.default.ajax.post("/digiops/role/update",e)},t.siteadd=function(e){return s.default.ajax.post("/digiops/site/add",e)},t.siteallList=function(e){return s.default.ajax.post("/digiops/site/allList",e)},t.sitelist=function(e){return s.default.ajax.post("/digiops/site/list",e)},t.siteIsExist=function(e){return s.default.ajax.post("/digiops/site/isExist",e)},t.siteupdate=function(e){return s.default.ajax.post("/digiops/site/update",e)},t.siteSpinner=function(e){return s.default.ajax.post("/digiops/site/siteSpinner",e)},t.siteid=function(e){return s.default.ajax.get("/digiops/site/"+e)},t.useradd=function(e){return s.default.ajax.post("/digiops/user/add",e)},t.userpassword=function(e){return s.default.ajax.get("/digiops/user/password",e)},t.userlist=function(e){return s.default.ajax.post("/digiops/user/list",e)},t.userIsExist=function(e){return s.default.ajax.post("/digiops/user/isExist",e)},t.userupdate=function(e){return s.default.ajax.post("/digiops/user/update",e)},t.userid=function(e){return s.default.ajax.get("/digiops/user/"+e)},t.userSpinner=function(){return s.default.ajax.get("/digiops/user/userSpinner")},t.sopAdd=function(e){return s.default.ajax.post("/digiops/sop/add",e)},t.sopCode=function(e){return s.default.ajax.get("/digiops/sop/generatedCode/"+e)},t.sopList=function(e){return s.default.ajax.post("/digiops/sop/list",e)},t.sopUpdate=function(e){return s.default.ajax.post("/digiops/sop/update",e)},t.sopId=function(e){return s.default.ajax.get("/digiops/sop/"+e)},t.sopSpinner=function(e){return s.default.ajax.get("/digiops/sop/sopSpinner/"+e)},t.pointAdd=function(e){return s.default.ajax.post("/digiops/point/add",e)},t.pointCode=function(e){return s.default.ajax.get("/digiops/point/generatedCode/"+e)},t.pointList=function(e){return s.default.ajax.post("/digiops/point/list",e)},t.pointUpdate=function(e){return s.default.ajax.post("/digiops/point/update",e)},t.pointId=function(e){return s.default.ajax.get("/digiops/point/"+e)},t.pointSpinner=function(e){return s.default.ajax.get("/digiops/point/pointSpinner/"+e)},t.pointQrcode=function(e){return s.default.ajax.post("/digiops/upload/qrcode",e)},t.lineAdd=function(e){return s.default.ajax.post("/digiops/line/add",e)},t.lineCode=function(e){return s.default.ajax.get("/digiops/line/generatedCode/"+e)},t.lineList=function(e){return s.default.ajax.post("/digiops/line/list",e)},t.lineUpdate=function(e){return s.default.ajax.post("/digiops/line/update",e)},t.lineId=function(e){return s.default.ajax.get("/digiops/line/"+e)},t.auditAdd=function(e){return s.default.ajax.post("/digiops/audit/add",e)},t.auditCode=function(e){return s.default.ajax.get("/digiops/audit/generatedCode/"+e)},t.auditList=function(e){return s.default.ajax.post("/digiops/audit/list",e)},t.auditUpdate=function(e){return s.default.ajax.post("/digiops/audit/update",e)},t.auditId=function(e){return s.default.ajax.get("/digiops/audit/"+e)},t.shiftAdd=function(e){return s.default.ajax.post("/digiops/shift/add",e)},t.shiftCode=function(e){return s.default.ajax.get("/digiops/shift/generatedCode/"+e)},t.shiftList=function(e){return s.default.ajax.post("/digiops/shift/list",e)},t.shiftUpdate=function(e){return s.default.ajax.post("/digiops/shift/update",e)},t.shiftId=function(e){return s.default.ajax.get("/digiops/shift/"+e)}},284:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(268);t.default={data:function(){return{searchIsEnable:2,startDate:"",endDate:"",searchValue:"",searchType:"sopNum",searchTypeList:[{title:"sop编码",key:"sopNum"},{title:"sop名称",key:"sopName"},{title:"站点",key:"siteName"},{title:"状态",key:"isEnable"}],timeIndex:1,showRoute:!1,showWeek:!1,showcom:!0,typeList:[{typeName:"巡检",value:1},{typeName:"交接班",value:2},{typeName:"审计",value:3},{typeName:"临时任务",value:4}],siteList:[],routeList:["route1","route2"],receiveList:["张三","李希"],rateList:["一日一次","一日多次","多日一次","多日多次"],weekList:["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],formValidate:{isEnable:0,timeList:[{value:"00:01:00"}]},ruleValidate:{code:[{required:!0,message:"工单编码为必填项",trigger:"change"}],name:[{required:!0,message:"工单名称为必填项",trigger:"change"}],sdate:[{required:!0,message:"开始日期为必填项",trigger:"change"}],edate:[{required:!0,message:"结束日期为必填项",trigger:"change"}],rate:[{required:!0,message:"发送频率为必填项",trigger:"change"}],type:[{required:!0,message:"工单类型为必填项",trigger:"change"}],receive:[{required:!0,message:"接收人为必填项",trigger:"change"}],week:[{required:!0,message:"星期为必填项",trigger:"change"}],site:[{required:!0,message:"站点为必填项",trigger:"change",type:"number"}],route:[{required:!0,message:"路线为必填项",trigger:"change"}],time:[{required:!0,trigger:"change",message:"路线为必填项"}]},columns:[{type:"selection",width:60,align:"center"},{title:"计划配置编号",key:"code"},{title:"计划配置名称",key:"name"},{title:"优先级",key:"priority"},{title:"站点",key:"site"},{title:"类型",key:"type"},{title:"发送给",key:"receive"},{title:"工单生成时间",key:"creatime"},{title:"状态",key:"status"}],data:[{code:"BEJTSL2220",name:"BEJTLS01",priority:"高",creatime:"BEJTLS01",status:"sop2220111",site:"上海站",type:"审计",receive:"张三"},{code:"BEJTSL2220",name:"BEJTLS01",priority:"高",creatime:"BEJTLS01",status:"sop2220111",site:"上海站",type:"审计",receive:"张三"}]}},created:function(){var e=this;(0,i.siteSpinner)({}).then(function(t){e.siteList=t.data})},computed:{power:function(){return!1}},methods:{search:function(){var e={pageSize:10,startPage:1,startDate:this.startDate,endDate:this.endDate};"isEnable"==this.searchType?e.isEnable=this.searchIsEnable:e[this.searchType]=this.searchValue,""!=this.endDate&&""!=this.startDate?this.endDate>=this.startDate?this.getformatdata(e):(this.$Message.info("结束时间应大于开始时间"),this.endDate=""):this.getformatdata(e)},add:function(){console.log(3),this.showcom=!1},edit:function(){this.showcom=!1},addTime:function(){this.timeIndex++,this.formValidate.timeList.push({value:"00:01:00"}),console.log(this.formValidate)},delTime:function(e){this.formValidate.timeList.splice(e,1)},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.$Message.success("Success!"),console.log(t.formValidate),t.showcom=!0):t.$Message.error("Fail!")})},handleReset:function(e){this.showcom=!0,this.$refs[e].resetFields()}},watch:{formValidate:{handler:function(e,t){console.log(e+"--"+t),this.showRoute="巡检"==this.formValidate.type,this.showWeek="多日一次"==this.formValidate.rate||"多日多次"==this.formValidate.rate,console.log(this.formValidate)},deep:!0}}}},340:function(e,t,a){var i=a(341);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(17)("89f3adfe",i,!1)},341:function(e,t,a){t=e.exports=a(16)(!1),t.push([e.i,"\n.table[data-v-6d31e5a2] {\r\n  margin: 10px 0;\n}\n.page[data-v-6d31e5a2] {\r\n  float: right;\r\n  margin: 10px;\n}\n.button[data-v-6d31e5a2] {\r\n    border-color: #f1f1f1;\r\n    background: #fff;\r\n    margin-right: 20px;\n}\n.ivu-btn[data-v-6d31e5a2]:hover {\r\n    color: #fff;\r\n    background-color: #e25144;\r\n    border-color: #e25144;\n}\n.ivu-btn.active[data-v-6d31e5a2],\r\n  .ivu-btn[data-v-6d31e5a2]:active {\r\n    color: #fff;\r\n    background-color: #000;\r\n    border-color: #e25144;\n}\r\n",""])},342:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showcom?a("div",{staticClass:"wrap"},[a("Row",{attrs:{type:"flex",justify:"space-between"}},[a("Col",{attrs:{span:"4"}},[a("Button",{staticClass:"button",attrs:{disabled:e.power},on:{click:e.add}},[e._v("新建")])],1),e._v(" "),a("Col",[a("span",[e._v("开始时间：")]),e._v(" "),a("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}}),e._v(" "),a("span",[e._v("结束时间：")]),e._v(" "),a("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}}),e._v(" "),a("Select",{staticStyle:{width:"100px"},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.searchTypeList,function(t){return a("Option",{key:t.key,attrs:{value:t.key}},[e._v(e._s(t.title))])})),e._v(" "),"isEnable"!=e.searchType?a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入搜索的内容"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}):e._e(),e._v(" "),"isEnable"==e.searchType?a("Select",{staticStyle:{width:"200px"},model:{value:e.searchIsEnable,callback:function(t){e.searchIsEnable=t},expression:"searchIsEnable"}},[a("Option",{attrs:{value:0}},[e._v("启用")]),e._v(" "),a("Option",{attrs:{value:1}},[e._v("禁用")])],1):e._e(),e._v(" "),a("Button",{attrs:{icon:"ivu-icon ivu-icon-search"},on:{click:e.search}})],1)],1),e._v(" "),a("Table",{ref:"selection",staticClass:"table",attrs:{border:"",columns:e.columns,data:e.data},on:{"on-row-dblclick":e.edit}}),e._v(" "),a("div",{staticClass:"page"},[a("Page",{attrs:{total:50}})],1)],1):a("div",{staticClass:"wrap"},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-position":"right","label-width":100}},[a("Row",[a("Col",{attrs:{xs:24,lg:12}},[a("FormItem",{attrs:{label:"站点",prop:"site"}},[a("Select",{model:{value:e.formValidate.site,callback:function(t){e.$set(e.formValidate,"site",t)},expression:"formValidate.site"}},e._l(e.siteList,function(t,i){return a("Option",{key:i,attrs:{value:t.siteId}},[e._v(e._s(t.siteName))])}))],1)],1),e._v(" "),a("Col",{attrs:{xs:24,lg:12}},[a("FormItem",{attrs:{label:"任务名称",prop:"name"}},[a("Input",{model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{xs:24,lg:12}},[a("FormItem",{attrs:{label:"任务类型",prop:"type"}},[a("Select",{model:{value:e.formValidate.type,callback:function(t){e.$set(e.formValidate,"type",t)},expression:"formValidate.type"}},e._l(e.typeList,function(t,i){return a("Option",{key:i,attrs:{value:t.typeName}},[e._v(e._s(t.typeName))])}))],1)],1),e._v(" "),a("Col",{attrs:{xs:24,lg:12}},[e.showRoute?a("FormItem",{attrs:{label:"路线",prop:"route"}},[a("Select",{model:{value:e.formValidate.route,callback:function(t){e.$set(e.formValidate,"route",t)},expression:"formValidate.route"}},e._l(e.routeList,function(t,i){return a("Option",{key:i,attrs:{value:t}},[e._v(e._s(t))])}))],1):e._e()],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{xs:24,lg:12}},[a("FormItem",{attrs:{label:"发送给",prop:"receive"}},[a("Select",{model:{value:e.formValidate.receive,callback:function(t){e.$set(e.formValidate,"receive",t)},expression:"formValidate.receive"}},e._l(e.receiveList,function(t,i){return a("Option",{key:i,attrs:{value:t}},[e._v(e._s(t))])}))],1)],1),e._v(" "),a("Col",{attrs:{xs:24,lg:12}},[a("FormItem",{attrs:{label:"状态",prop:"isEnable"}},[a("RadioGroup",{model:{value:e.formValidate.isEnable,callback:function(t){e.$set(e.formValidate,"isEnable",t)},expression:"formValidate.isEnable"}},[a("Radio",{attrs:{label:0}},[e._v("启用")]),e._v(" "),a("Radio",{attrs:{label:1}},[e._v("禁用")])],1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{xs:24,lg:12}},[a("FormItem",{attrs:{label:"优先级",prop:"week"}},[a("Select",{attrs:{multiple:""},model:{value:e.formValidate.week,callback:function(t){e.$set(e.formValidate,"week",t)},expression:"formValidate.week"}},e._l(e.weekList,function(t,i){return a("Option",{key:i,attrs:{value:t}},[e._v(e._s(t))])}))],1)],1),e._v(" "),a("Col",{attrs:{xs:12,lg:6}},[a("FormItem",{attrs:{label:"开始日期",prop:"sdate"}},[a("DatePicker",{attrs:{type:"date",placeholder:"选择日期"},on:{"on-change":function(t){e.formValidate.sdate=t}},model:{value:e.formValidate.sdate,callback:function(t){e.$set(e.formValidate,"sdate",t)},expression:"formValidate.sdate"}})],1)],1),e._v(" "),a("Col",{attrs:{xs:12,lg:6}},[a("FormItem",{attrs:{label:"结束日期",prop:"edate"}},[a("DatePicker",{attrs:{type:"date",placeholder:"选择时间"},on:{"on-change":function(t){e.formValidate.edate=t}},model:{value:e.formValidate.edate,callback:function(t){e.$set(e.formValidate,"edate",t)},expression:"formValidate.edate"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{xs:24,lg:12}},[a("FormItem",{attrs:{label:"频率",prop:"rate"}},[a("Select",{model:{value:e.formValidate.rate,callback:function(t){e.$set(e.formValidate,"rate",t)},expression:"formValidate.rate"}},e._l(e.rateList,function(t,i){return a("Option",{key:i,attrs:{value:t}},[e._v(e._s(t))])}))],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{xs:24,lg:12}},[e.showWeek?a("FormItem",{attrs:{label:"选择星期",prop:"week"}},[a("Select",{attrs:{multiple:""},model:{value:e.formValidate.week,callback:function(t){e.$set(e.formValidate,"week",t)},expression:"formValidate.week"}},e._l(e.weekList,function(t,i){return a("Option",{key:i,attrs:{value:t}},[e._v(e._s(t))])}))],1):e._e()],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},e._l(e.formValidate.timeList,function(t,i){return a("FormItem",{key:i,attrs:{label:"选择时间",prop:"timeList."+i+".value",rules:{required:!0,message:"时间不能为空",trigger:"blur"}}},[a("TimePicker",{attrs:{type:"time",placeholder:"Select time"},on:{"on-change":function(e){t.value=e}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e._v(" "),a("Button",{on:{click:e.addTime}},[e._v("添加时间")]),e._v(" "),a("Button",{on:{click:function(t){e.delTime(i)}}},[e._v("删除时间")])],1)}))],1),e._v(" "),a("Col",{attrs:{xs:24,lg:12}},[a("FormItem",[a("Button",{staticClass:"save ",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",disabled:e.power},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("保存")]),e._v(" "),a("Button",{staticClass:"button ",staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("取消")])],1)],1)],1)],1)])},s=[];i._withStripped=!0;var o={render:i,staticRenderFns:s};t.default=o}});